/*! For license information please see 94df4e58f8e4b289dd65.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{264:function(o,e,t){var r=t(312);"string"==typeof r&&(r=[[o.i,r,""]]),r.locals&&(o.exports=r.locals);(0,t(137).default)("ae050fce",r,!0,{})},311:function(o,e,t){"use strict";var r=t(264);t.n(r).a},312:function(o,e,t){(e=t(136)(!0)).push([o.i,".ec-user{display:inline}.ec-user__popover{max-width:100%;min-width:12rem;font-size:1rem;line-height:1.4}.ec-user__alert{font-size:.85rem;margin-bottom:1rem}.ec-user__logout{margin-top:1rem}.ec-user__btn{color:#fff;text-align:left;line-height:1.2rem;padding:.7rem;min-width:15rem;font-size:.9rem}.ec-user__btn:hover{color:#fff}.ec-user__btn:focus{box-shadow:none}.ec-user__btn--facebook{background:#3b5999;border-color:#2f4d8a}.ec-user__btn--facebook:hover{background:#274480;border-color:#274480}.ec-user__btn--google{background:#cb4023;border-color:#be3419}.ec-user__btn--google:hover{background:#c1361a;border-color:#c1361a}.ec-user__btn--windowslive{background:#329ffc;border-color:#2996f2}.ec-user__btn--windowslive:hover{background:#1f8ce9;border-color:#1f8ce9}.ec-user__btn__icon{display:inline-block;width:1.4rem;text-align:center;margin-right:.2rem}.ec-user__back{display:block;padding-left:.3rem;padding-right:.3rem}.ec-user__back:focus{box-shadow:none}.ec-user__visitor-info{font-size:.875rem;margin-top:.6rem;text-align:center;color:var(--gray)}","",{version:3,sources:["/home/runner/work/tiasonia/tiasonia/node_modules/@ecomplus/widget-user/src/components/scss/EcUser.scss"],names:[],mappings:"AAGA,SACE,cAAe,CAEf,kBACE,cAAe,CACf,eAAgB,CAChB,cAAe,CACf,eAAgB,CACjB,gBAGC,gBAAiB,CACjB,kBAAmB,CACpB,iBAGC,eAAgB,CACjB,cAGC,UAAW,CACX,eAAgB,CAChB,kBAAmB,CACnB,aAAc,CACd,eAAgB,CAChB,eAAgB,CANjB,oBASG,UAAW,CATd,oBAaG,eAAgB,CACjB,wBAGC,kBAAmB,CACnB,oBAAqB,CAFtB,8BAKG,kBAAmB,CACnB,oBAAqB,CACtB,sBAID,kBAAmB,CACnB,oBAAqB,CAFtB,4BAKG,kBAAmB,CACnB,oBAAqB,CACtB,2BAID,kBAAmB,CACnB,oBAAqB,CAFtB,iCAKG,kBAAmB,CACnB,oBAAqB,CACtB,oBAID,oBAAqB,CACrB,YAAa,CACb,iBAAkB,CAClB,kBAAmB,CACpB,eAID,aAAc,CACd,kBAAmB,CACnB,mBAAoB,CAHrB,qBAMG,eAAgB,CACjB,uBAID,iBAAkB,CAClB,gBAAiB,CACjB,iBAAkB,CAClB,iBAAkB",file:"EcUser.scss",sourcesContent:["$primary: #333333; $secondary: #001052; $settings-theme: (\n  bootswatch: _\n); \n.ec-user {\n  display: inline;\n\n  &__popover {\n    max-width: 100%;\n    min-width: 12rem;\n    font-size: 1rem;\n    line-height: 1.4;\n  }\n\n  &__alert {\n    font-size: .85rem;\n    margin-bottom: 1rem;\n  }\n\n  &__logout {\n    margin-top: 1rem;\n  }\n\n  &__btn {\n    color: #fff;\n    text-align: left;\n    line-height: 1.2rem;\n    padding: .7rem;\n    min-width: 15rem;\n    font-size: .9rem;\n\n    &:hover {\n      color: #fff;\n    }\n\n    &:focus {\n      box-shadow: none;\n    }\n\n    &--facebook {\n      background: #3b5999;\n      border-color: #2f4d8a;\n\n      &:hover {\n        background: #274480;\n        border-color: #274480;\n      }\n    }\n\n    &--google {\n      background: #cb4023;\n      border-color: #be3419;\n\n      &:hover {\n        background: #c1361a;\n        border-color: #c1361a;\n      }\n    }\n\n    &--windowslive {\n      background: #329ffc;\n      border-color: #2996f2;\n\n      &:hover {\n        background: #1f8ce9;\n        border-color: #1f8ce9;\n      }\n    }\n\n    &__icon {\n      display: inline-block;\n      width: 1.4rem;\n      text-align: center;\n      margin-right: .2rem;\n    }\n  }\n\n  &__back {\n    display: block;\n    padding-left: .3rem;\n    padding-right: .3rem;\n\n    &:focus {\n      box-shadow: none;\n    }\n  }\n\n  &__visitor-info {\n    font-size: .875rem;\n    margin-top: .6rem;\n    text-align: center;\n    color: var(--gray);\n  }\n}\n"]}]),o.exports=e},353:function(o,e,t){"use strict";t.r(e);var r=t(37),n=(t(183),t(22),t(57),t(31));const i={my_account:{en_us:"My account",pt_br:"Minha conta"},my_orders:{en_us:"My orders",pt_br:"Meus pedidos"},hello:{en_us:"Hello",pt_br:"Olá"},visitor:{en_us:"visitor",pt_br:"visitante"},sign_in_with:{en_us:"Sign in with",pt_br:"Entrar com"},sign_up_with:{en_us:"Sign up with",pt_br:"Cadastrar via"},another:{en_us:"another",pt_br:"outro"},email:{en_us:"email",pt_br:"e-mail"},logout:{en_us:"Logout",pt_br:"Sair"},login:{en_us:"Login",pt_br:"Entrar"},continue_on_popup:{en_us:"Continue login on popup",pt_br:"Continue o login no pop-up"},login_error:{en_us:"There was an error trying to login, please try again or select another option",pt_br:"Houve um erro ao tentar o login, por favor tente novamente ou selecione outra opção"},profile_not_found:{en_us:"No profile found with email address",pt_br:"Nenhum perfil encontrado com o endereço de e-mail"},visitor_checkout:{en_us:"You can also buy as a visitor if you prefer",pt_br:"Você também pode comprar como visitante se preferir"}};var s=function(o,e){return e||(e=this&&this.lang||"en_us"),i[o]&&i[o][e]||""},a=t(125),c={name:"EcUser",props:{lang:{type:String,default:n.$ecomConfig.get("lang")},ecomPassport:{type:Object,default:()=>a.a},popoverPlacement:{type:String,default:"bottomleft"},getGreetingsMsg:{type:Function},accountUrl:{type:String,default:"/app/#/account/"},ordersUrl:{type:String,default:"/app/#/account/orders"},popupAlertCountSecs:{type:Number,default:3}},data:()=>({showPopover:!1,popoverTriggers:"click blur",waiting:!1,waitingPopup:!1,isLogged:!1,email:"",name:"",oauthProviders:[],showLoginForm:!1,popupAlertCount:0,loginErrorAlert:!1,noProfileFound:!1,popoverHideTimer:null}),computed:{greetings(){return"function"==typeof this.getGreetingsMsg?this.getGreetingsMsg(this.name):"".concat(s("hello",this.lang)," ").concat(this.name||s("visitor",this.lang))}},methods:{dictionary:s,update(){this.fixPopoverTriggers();const{checkLogin:o,getCustomerName:e}=this.ecomPassport;this.name=e(),this.isLogged=o(),this.email="",this.popupAlertCount=0,this.isLogged&&(this.showPopover=!0,setTimeout(()=>{this.showPopover&&(this.popoverHideTimer=setTimeout(()=>{this.showPopover=!1},2e3))},200)),this.waitingPopup=!1,clearTimeout(this.popoverHideTimer)},waitPromise(o){this.fixPopoverTriggers();const e=this;e.waiting=!0,o.catch(o=>{console.error(o)}).finally(()=>{e.waiting=!1})},setOauthProviders(){const o=this,e=o.ecomPassport.fetchOauthProviders().then(({host:e,baseUri:t,oauthPath:r,providers:n})=>{const i=[];for(const o in n)if(n[o]){const{faIcon:s,providerName:a}=n[o];i.push({link:e+t+o+r,faIcon:s,provider:o,providerName:a})}o.oauthProviders=i}).catch(e=>{throw o.presetOauthProviders(),e});return o.waitPromise(e),e},presetOauthProviders(){this.oauthProviders=[{faIcon:"fa-facebook-f",providerName:"Facebook",provider:"facebook"},{faIcon:"fa-google",providerName:"Google",provider:"google"},{faIcon:"fa-windows",providerName:"Windows",provider:"windowslive"}]},oauthPopup(o,e){const t=this;if(this.loginErrorAlert=!1,o)t.ecomPassport.popupOauthLink(o),t.waitingPopup=!0,setTimeout(()=>{t.popupAlertCount=t.popupAlertCountSecs},200);else{const o=t.setOauthProviders().then(()=>{const o=t.oauthProviders.find(o=>o.provider===e);t.oauthPopup(o,e)}).catch(o=>{throw t.loginErrorAlert=!0,o});t.waitPromise(o)}},popupAlertChanged(o){this.popupAlertCount=o},emailLoginSubmit(o){const e=this;o.preventDefault(),e.showLoginForm=!1;const t=e.ecomPassport.fetchLogin(this.email).catch(o=>{const{response:t}=o;if(!t||403!==t.status)throw setTimeout(()=>{e.loginErrorAlert=!0},100),o;e.noProfileFound=!0});e.waitPromise(t)},logout(){this.ecomPassport.logout()},resetErrors(){this.noProfileFound=this.loginErrorAlert=!1},resetPopover(){this.showLoginForm?this.showLoginForm=!1:this.resetErrors()},fixPopoverTriggers(){this.showPopover&&(this.popoverTriggers="manual",setTimeout(()=>{this.popoverTriggers="click blur"},310))}},mounted(){const o=this;["login","logout"].forEach(e=>{this.ecomPassport.on(e,t=>{o.update(),o.$emit(e,t)})}),o.update(),o.setOauthProviders()},watch:{noProfileFound(o){!1===o&&(this.email=""),this.showLoginForm=!o},showLoginForm(o){this.loginErrorAlert=!1,o&&(this.fixPopoverTriggers(),setTimeout(()=>{this.$refs.input&&this.$refs.input.focus()},300))},showPopover(){clearTimeout(this.popoverHideTimer)}}},l=(t(311),t(72)),u=Object(l.a)(c,(function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"ec-user"},[o._t("button",[t("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"btn btn-lg btn-light",attrs:{type:"button",id:"ec-user-popover",title:o.dictionary("my_account")}},[t("i",{staticClass:"fas fa-user"})])]),t("b-popover",{attrs:{target:"ec-user-popover",triggers:o.popoverTriggers,show:o.showPopover,placement:o.popoverPlacement},on:{"update:show":function(e){o.showPopover=e},hidden:o.resetPopover}},[t("template",{slot:"title"},[o._v(" "+o._s(o.greetings)+" ")]),t("div",{staticClass:"ec-user__popover"},[t("b-alert",{staticClass:"ec-user__alert",attrs:{show:o.loginErrorAlert,fade:"",variant:"warning"}},[o._v(" "+o._s(o.dictionary("login_error"))+". ")]),t("transition-group",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated position-absolute fadeOut faster"}},[o.waiting?t("div",{key:"waiting"},[t("div",{staticClass:"spinner-border m-3",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[o._v("Loading...")])])]):o.isLogged?t("div",{key:"logged"},[t("div",{staticClass:"list-group list-group-flush"},[t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:o.ordersUrl}},[o._v(" "+o._s(o.dictionary("my_orders"))+" ")]),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:o.accountUrl}},[o._v(" "+o._s(o.dictionary("my_account"))+" ")])]),t("button",{staticClass:"btn btn-block btn-danger ec-user__logout",attrs:{type:"button"},on:{click:o.logout}},[t("i",{staticClass:"fas fa-sign-out-alt"}),o._v(" "+o._s(o.dictionary("logout"))+" ")])]):o.showLoginForm?t("div",{key:"form"},[t("form",{on:{submit:o.emailLoginSubmit}},[t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn ec-user__back",attrs:{type:"button"},on:{click:function(e){o.showLoginForm=!1}}},[t("i",{staticClass:"fas fa-arrow-left"})]),t("label",{attrs:{for:"ec-user-email"}},[o._v(" "+o._s(o.dictionary("sign_in_with")+" "+o.dictionary("email"))+" ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:o.email,expression:"email"}],ref:"input",staticClass:"form-control",attrs:{type:"email",id:"ec-user-email",placeholder:"email@mail.com",required:""},domProps:{value:o.email},on:{input:function(e){e.target.composing||(o.email=e.target.value)}}})]),t("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"submit"}},[o._v(" "+o._s(o.dictionary("login"))+" ")])])]):t("div",{key:"oauth"},[t("b-alert",{staticClass:"ec-user__alert",attrs:{show:!o.popupAlertCount&&o.noProfileFound,fade:"",variant:"info"}},[o._v(" "+o._s(o.dictionary("profile_not_found"))+" "),t("b",[o._v(o._s(o.email))]),o._v(". "),t("br"),t("a",{staticClass:"alert-link",attrs:{href:"javascript:;"},on:{click:function(e){o.noProfileFound=!1}}},[o._v(" "+o._s(o.dictionary("sign_in_with")+" "+o.dictionary("another")+" "+o.dictionary("email"))+" ")])]),t("b-alert",{staticClass:"ec-user__alert",attrs:{show:o.popupAlertCount,dismissible:"",fade:"",variant:"info"},on:{dismissed:function(e){o.popupAlertCount=0},"dismiss-count-down":o.popupAlertChanged}},[o._v(" "+o._s(o.dictionary("continue_on_popup"))+". ")]),o._l(o.oauthProviders,(function(e){var r=e.link,n=e.faIcon,i=e.providerName,s=e.provider;return t("button",{key:s,staticClass:"btn btn-block ec-user__btn",class:"ec-user__btn--"+s,attrs:{type:"button"},on:{click:function(){return o.oauthPopup(r,s)}}},[t("span",{staticClass:"ec-user__btn__icon"},[t("i",{staticClass:"fab",class:n})]),o._v(" "+o._s(o.dictionary(o.noProfileFound?"sign_up_with":"sign_in_with"))+" "+o._s(i)+" ")])})),o.noProfileFound?t("div",{staticClass:"ec-user__visitor-info"},[o._v(" "+o._s(o.dictionary("visitor_checkout"))+" ")]):t("button",{key:"email",staticClass:"btn btn-block btn-secondary ec-user__btn",attrs:{type:"button"},on:{click:function(e){o.showLoginForm=!0}}},[t("span",{staticClass:"ec-user__btn__icon"},[t("i",{staticClass:"fas fa-envelope"})]),o._v(" "+o._s(o.dictionary("sign_in_with")+" "+o.dictionary("email"))+" ")])],2)])],1)],2)],2)}),[],!1,null,null,null).exports;function p(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.push.apply(t,r)}return t}function d(o){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){g(o,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))}))}return o}function g(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}e.default=(o={},e="user-button")=>{const t=document.getElementById(e);t&&new r.default({render:t=>t(u,{attrs:{id:e},props:d({},o.props)})}).$mount(t)}}}]);
//# sourceMappingURL=94df4e58f8e4b289dd65.js.map